package mobileapplication3.platform;

import java.io.IOException;

import javax.microedition.io.Connector;
import javax.microedition.sensor.Data;
import javax.microedition.sensor.SensorConnection;
import javax.microedition.sensor.SensorInfo;
import javax.microedition.sensor.SensorManager;

public class BatteryViaSensors {
	public int getBatteryLevel() {
		try {
			SensorInfo[] batteryInfo = SensorManager.findSensors("battery_charge", null);
			SensorConnection sensor = (SensorConnection) Connector.open(batteryInfo[0].getUrl());
			Data[] data = sensor.getData(1);
			return data[0].getIntValues()[0];
		} catch (IOException ex) {
			return Battery.ERROR;
		}
	}
}
